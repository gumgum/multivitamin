{"script":
    {
        "lang":"painless",
        "source":"if(! ctx._source.media_annotation.codes.contains(params.entry)) {ctx._source.media_annotation.codes.add(params.entry)}"
    }
}